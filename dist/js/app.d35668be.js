(function(){"use strict";var t={7034:function(t,n,e){var i=e(7195),a=function(){var t=this,n=t._self._c;return n("router-view")},s=[],r=e(408);function o(t,n,e,i){const a=(i-n)*Math.PI/180,s=Math.sin(a)*Math.cos(e*Math.PI/180),r=Math.cos(t*Math.PI/180)*Math.sin(e*Math.PI/180)-Math.sin(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.cos(a);let o=180*Math.atan2(s,r)/Math.PI;return o=(o+360)%360,o.toFixed(1)}function l(t){return t*(Math.PI/180)}function c(t,n,e,i){const a=6371e3,s=l(t),r=l(n),o=l(e),c=l(i),u=o-s,h=c-r,d=Math.sin(u/2)*Math.sin(u/2)+Math.cos(s)*Math.cos(o)*Math.sin(h/2)*Math.sin(h/2),g=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),_=a*g;return _.toFixed(1)}var u={name:"App",data(){return{location:{lat:0,lng:0},heading:0,bearing:0,distance:0,error:""}},created(){"geolocation"in navigator?navigator.geolocation.watchPosition((t=>{const{latitude:n,longitude:e,heading:i}=t.coords;this.location.lat=n,this.location.lng=e,this.heading=i,this.SET_LOG({heading:t.coords.heading,latitude:t.coords.latitude,longitude:t.coords.longitude})}),(t=>{this.error=t})):this.error="Browser does not support the Geolocation API"},computed:{...(0,r.Se)(["getDestination"])},methods:{...(0,r.nv)(["SET_GEO","SET_LOG"])},watch:{location:{handler(){this.distance=c(this.location.lat,this.location.lng,this.getDestination.lat,this.getDestination.lng),this.bearing=o(this.location.lat,this.location.lng,this.getDestination.lat,this.getDestination.lng),this.SET_GEO({location:this.location,heading:this.heading,bearing:this.bearing,distance:this.distance})},deep:!0}}},h=u,d=e(1001),g=(0,d.Z)(h,a,s,!1,null,null,null),_=g.exports,f=e(2241),p=function(){var t=this,n=t._self._c;return n("div",["disclaimer"===this.getCurrentStage?n("Disclaimer",{on:{click:function(n){return t.nextStage("started")}}}):n("div",[n("Compass"),n("div",{staticClass:"log"},[t._v(" "+t._s(t.getLog)+" ")])],1)],1)},v=[],m=function(){var t=this,n=t._self._c;return n("div",{staticClass:"disclaimer"},[n("img",{staticClass:"disclaimer__img",attrs:{src:e(9468)}}),t._m(0),n("Button",{on:{click:function(n){return t.$emit("click")}}},[t._v("ПОЕХАЛИ!!!")])],1)},E=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"disclaimer__text__wrapper"},[n("p",{staticClass:"disclaimer__text"},[n("span",[t._v("Ксюша, тебя ждут захватывающие приключения!")]),n("br"),t._v(" Опасности будут подстерегать тебя на каждом шагу! ")]),n("ul",{staticClass:"disclaimer__list"},[n("span",[t._v("Прежде чем отправиться в путь:")]),n("li",[t._v("- подкрепись")]),n("li",[t._v("- сходи в туалет")]),n("li",[t._v("- заряди свой мобильник!")])]),n("p",{staticClass:"disclaimer__text"},[t._v(" И помни! Тебе никто не поможет!"),n("br"),t._v(" Но в крайнем случае обратись в службу поддержки! ")]),n("p",{staticClass:"disclaimer__text"},[t._v("Запомни... Север - это север, "),n("br"),t._v("а свовы - то чем кажутся! Ауф!"),n("br"),t._v(" Жми на кнопку, когда будешь готова! ")])])}],S=function(){var t=this,n=t._self._c;return n("div",{attrs:{ontouchstart:""}},[n("div",{class:["button",t.buttonClass],on:{click:t.handleClick}},[n("a",{attrs:{href:"#"}},[t._t("default")],2)])])},T=[],C={name:"Button",props:{buttonClass:{type:String,default:""}},methods:{handleClick(){this.$emit("click")}}},O=C,b=(0,d.Z)(O,S,T,!1,null,"6df95742",null),M=b.exports,G={name:"Compass",components:{Button:M}},w=G,P=(0,d.Z)(w,m,E,!1,null,"a2382b96",null),x=P.exports,I=function(){var t=this,n=t._self._c;return n("div",{staticClass:"compass"},[n("div",{staticClass:"compass-inner"},[n("div",{staticClass:"north"},[t._v("N")]),n("div",{staticClass:"main-arrow",style:`transform: rotate(${this.getGEO?.bearing}deg)`},[n("div",{staticClass:"arrow-up"}),n("div",{staticClass:"arrow-down"})])])])},Z=[],k={name:"Compass",components:{},computed:{...(0,r.Se)(["getGEO"]),showPulsation(){return this.getGEO?.distance<30}}},N=k,D=(0,d.Z)(N,I,Z,!1,null,"70784b48",null),y=D.exports,A={name:"HomePage",components:{Disclaimer:x,Compass:y},computed:{...(0,r.Se)(["getCurrentStage","getLog"])},methods:{...(0,r.nv)(["SET_CURRENT_STAGE"]),nextStage(t){console.log("asd"),this.SET_CURRENT_STAGE(t)}}},R=A,L=(0,d.Z)(R,p,v,!1,null,"797315a2",null),j=L.exports,U=function(){var t=this,n=t._self._c;return n("div",{staticClass:"hello"},[t._v(" StagePage ")])},B=[],$={name:"StagePage",props:{}},F=$,q=(0,d.Z)(F,U,B,!1,null,"d4297d30",null),H=q.exports;i.ZP.use(f.Z);const z=[{path:"/",name:"main",component:j},{path:"/stage/:id",name:"stage",component:H}],J=new f.Z({routes:z});var K=J;e(7658);i.ZP.use(r.ZP);var Q=new r.ZP.Store({state:{GEO:{location:{lat:null,lng:null},heading:null,bearing:null,distance:null},destination:{lat:59.261947,lng:18.038153},currentStage:"disclaimer",log:[]},getters:{getGEO(t){return t.GEO},getDestination(t){return t.destination},getCurrentStage(t){return t.currentStage},getLog(t){return t.log}},mutations:{SET_GEO(t,n){t.GEO=n},SET_DESTINATION(t,n){t.destination=n},SET_CURRENT_STAGE(t,n){t.currentStage=n},SET_LOG(t,n){t.log.push(n)}},actions:{SET_GEO({commit:t},n){t("SET_GEO",n)},SET_DESTINATION({commit:t},n){t("SET_DESTINATION",n)},SET_CURRENT_STAGE({commit:t},n){t("SET_CURRENT_STAGE",n)},SET_LOG({commit:t},n){t("SET_LOG",n)}}});new i.ZP({router:K,store:Q,render:t=>t(_)}).$mount("#app")},9468:function(t,n,e){t.exports=e.p+"img/adventure_time.3f75a4d6.png"}},n={};function e(i){var a=n[i];if(void 0!==a)return a.exports;var s=n[i]={exports:{}};return t[i].call(s.exports,s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(n,i,a,s){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],s=t[u][2];for(var o=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(e.O).every((function(t){return e.O[t](i[l])}))?i.splice(l--,1):(o=!1,s<r&&(r=s));if(o){t.splice(u--,1);var c=a();void 0!==c&&(n=c)}}return n}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,a,s]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.p="/present_radar/"}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,i){var a,s,r=i[0],o=i[1],l=i[2],c=0;if(r.some((function(n){return 0!==t[n]}))){for(a in o)e.o(o,a)&&(e.m[a]=o[a]);if(l)var u=l(e)}for(n&&n(i);c<r.length;c++)s=r[c],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(u)},i=self["webpackChunkpresent_radar"]=self["webpackChunkpresent_radar"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(7034)}));i=e.O(i)})();
//# sourceMappingURL=app.d35668be.js.map